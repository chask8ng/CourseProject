<html>
<head> 
  <meta charset="utf-8">
</head>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style> circle {fill: white;} </style>
<body>
<svg width=500 height=500>
</svg>
<script>

const data = [
  {"keyword": "liberties", "tfidf": 0.49939146628671927},
  {"keyword": "stones", "tfidf": 0.47247116171238285},
  {"keyword": "group", "tfidf": 0.23623558085619142},
  {"keyword": "connecting", "tfidf": 0.1997565865146877},
  {"keyword": "single", "tfidf": 0.1997565865146877},
  {"keyword": "board", "tfidf": 0.1997565865146877},
  {"keyword": "unit", "tfidf": 0.1997565865146877},
  {"keyword": "connected", "tfidf": 0.1997565865146877},
  {"keyword": "center", "tfidf": 0.1997565865146877},
  {"keyword": "eye", "tfidf": 0.09987829325734385},
  {"keyword": "eyed", "tfidf": 0.09987829325734385},
  {"keyword": "total", "tfidf": 0.09987829325734385},
  {"keyword": "stronger", "tfidf": 0.09987829325734385},
  {"keyword": "strategy", "tfidf": 0.09987829325734385},
  {"keyword": "capture", "tfidf": 0.09987829325734385},
  {"keyword": "captured", "tfidf": 0.09987829325734385},
  {"keyword": "share", "tfidf": 0.09987829325734385},
  {"keyword": "separately", "tfidf": 0.09987829325734385},
  {"keyword": "separate", "tfidf": 0.09987829325734385},
  {"keyword": "results", "tfidf": 0.09987829325734385},
  {"keyword": "adjacent", "tfidf": 0.09987829325734385},
  {"keyword": "makes", "tfidf": 0.09987829325734385},
  {"keyword": "live", "tfidf": 0.09987829325734385},
  {"keyword": "keeping", "tfidf": 0.09987829325734385},
  {"keyword": "involves", "tfidf": 0.09987829325734385},
  {"keyword": "instance", "tfidf": 0.09987829325734385},
  {"keyword": "individual", "tfidf": 0.09987829325734385},
  {"keyword": "increase", "tfidf": 0.09987829325734385},
  {"keyword": "fundamental", "tfidf": 0.09987829325734385},
  {"keyword": "form", "tfidf": 0.09987829325734385},
  {"keyword": "play", "tfidf": 0.07874519361873047},
  {"keyword": "played", "tfidf": 0.07874519361873047},
  {"keyword": "stone", "tfidf": 0.07874519361873047},
  {"keyword": "opponent", "tfidf": 0.06375102080387893}
]
console.log(data)

var svg = d3.select("svg").append("g").attr("transform","translate(50,50)");

var rectangles = svg.selectAll('rect')
                    .data(data)
                    .enter()
                    .append('rect')
                    .attr('x', 75)
                    .attr('y', function(d, i) { return i * 30; })
                    .attr('height', 20)
                    .attr('width', function(d) { return d['tfidf'] * 300 ; });

var annotations = svg.selectAll('text')
                    .data(data)
                    .enter()
                    .append('text')
                    .attr('x', 65)
                    .attr('y', function(d, i) { return i * 30 + 15; })
                    .text(function(d) { return d['keyword']; })
                    .attr('font-size', 12)
                    .attr('text-anchor', 'end');

//title
svg.append("text")
  .attr("x", 100)             
  .attr("y", -20)
  .attr("text-anchor", "middle")  
  .style("font-size", "18px") 
  .text("Extracted keywords");

// link to next page 
var word = "Source Page";
var page = "https://en.wikipedia.org/wiki/Go_strategy_and_tactics"
 
var holder = d3.select("svg")
      .append("g")
      .attr("width", 50)    
      .attr("height", 50); 

// draw a rectangle
holder.append("a")
    .attr("xlink:href", page)
    .append("rect")  
    .attr("x", 280)
    .attr("y", 200)
    .attr("height", 50)
    .attr("width", 100)
    .style("fill", "lightblue")
    .attr("rx", 10)
    .attr("ry", 10);

// draw text on the screen
holder.append("text")
    .attr("x", 330)
    .attr("y", 220)
    .style("fill", "black")
    .style("font-size", "20px")
    .attr("dy", ".35em")
    .attr("text-anchor", "middle")
    .style("pointer-events", "none")
    .text(word);
</script>
</body>
</html>